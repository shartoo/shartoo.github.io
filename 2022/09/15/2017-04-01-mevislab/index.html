<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="baidu-site-verification" content="93f8r6fzoB" />
<meta name="google-site-verification" content="TRFlJTt2XTd9bCvpogqNRWkuoxwFeOUBf8ouiChVFyQ" />
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/science_256px_1075043_easyicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/science_128px_1075043_easyicon.ico">
  <link rel="mask-icon" href="/images/stars.svg" color="#222">
  <meta name="google-site-verification" content="TRFlJTt2XTd9bCvpogqNRWkuoxwFeOUBf8ouiChVFyQ">
  <meta name="baidu-site-verification" content="93f8r6fzoB">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://shartoo.github.io').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="医疗图像处理">
<meta property="og:type" content="article">
<meta property="og:title" content="医疗软件Mevislab使用">
<meta property="og:url" content="https://shartoo.github.io/2022/09/15/2017-04-01-mevislab/index.html">
<meta property="og:site_name" content="数据与算法">
<meta property="og:description" content="医疗图像处理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://shartoo.github.io/images/blog/mevislab_looks.jpg">
<meta property="og:image" content="https://shartoo.github.io/images/blog/mevislab_basicpipeline.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/ml_module.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/inventor_module.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/macro_module.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/triangle_look.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/circle_look.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/square_look.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/data_connect.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/parameter_connect.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/sample_filter_network.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/sync_params.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/network_params_setting.png">
<meta property="og:image" content="https://shartoo.github.io/images/blog/open_inventor_travel_path.jpg">
<meta property="og:image" content="https://shartoo.github.io/images/blog/open_inventor_sample1.jpg">
<meta property="og:image" content="https://shartoo.github.io/images/blog/open_inventor_sample2.jpg">
<meta property="og:image" content="https://shartoo.github.io/images/blog/mevislab_macro1.jpg">
<meta property="og:image" content="https://shartoo.github.io/images/blog/mevislab_macro2.jpg">
<meta property="og:image" content="https://shartoo.github.io/images/blog/mevislab_macro3.jpg">
<meta property="article:published_time" content="2022-09-15T08:16:12.750Z">
<meta property="article:modified_time" content="2022-09-15T08:16:12.754Z">
<meta property="article:author" content="shartoo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://shartoo.github.io/images/blog/mevislab_looks.jpg">

<link rel="canonical" href="https://shartoo.github.io/2022/09/15/2017-04-01-mevislab/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>医疗软件Mevislab使用 | 数据与算法</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">数据与算法</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">重新出发</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://shartoo.github.io/2022/09/15/2017-04-01-mevislab/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/me.jpg">
      <meta itemprop="name" content="shartoo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数据与算法">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          医疗软件Mevislab使用
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-15 16:16:12" itemprop="dateCreated datePublished" datetime="2022-09-15T16:16:12+08:00">2022-09-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8C%BB%E7%96%97/" itemprop="url" rel="index">
                    <span itemprop="name">医疗</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <div class="post-description">医疗图像处理</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在阅读肺结节CT图像处理的相关论文时，注意到很多作者都使用的是一款软件Mevislab。Mevislab是一款用于图像处理，尤其是医疗CT图像领域的，快速原型开发平台，做学术研究和个人学习是免费自由使用的（可自由开发的模块有限），<br>商业环境下使用时收费的。我曾发邮件咨询过，大概每年2万2(2017年3月份)。下图是工作台样例:</p>
<p><img src="/images/blog/mevislab_looks.jpg" alt="mevislab工作台"></p>
<p>官网地址：<a target="_blank" rel="noopener" href="http://www.mevislab.de/mevislab/">Mevislab</a></p>
<p>论坛地址:<a target="_blank" rel="noopener" href="https://forum.mevis.fraunhofer.de/">Mevislab论坛</a> ，很多问题自这里可以咨询，论坛活跃用户不多，一般可能要隔两天才有人回，可能是时差。</p>
<h2 id="一-特点"><a href="#一-特点" class="headerlink" title="一 特点"></a>一 特点</h2><ul>
<li><p>多平台支持：Mac,Linux,Windows</p>
</li>
<li><p>模块多：当前有920多标准模块，总共有3000多（包括360多ITK模块、1470个VTK模块、），基本涵盖了所有的图像处理模块，比如腐蚀、膨胀、阈值分割、区域增长等。在实际做图像处理时，直接拉模块连起来就可以。</p>
</li>
<li><p>支持脚本:目前支持python和C++，可以在工作台里直接调用python(使用RunPythonScripts模块)。C++ 可以直接重新定义mevislab内置的模块，或者自己重写一个模块。</p>
</li>
<li><p>自由高效：摸熟之后，你会发现它的高效、简洁，模块之间自由组合（流程上下衔接）</p>
</li>
<li><p>强大：强大的体现是，2D，3D(官方说法可以支持6D)都可以处理。尤其是3D渲染，简直神器，即刻呈现处理效果。</p>
</li>
</ul>
<h2 id="二-使用"><a href="#二-使用" class="headerlink" title="二 使用"></a>二 使用</h2><h3 id="2-1-基本使用"><a href="#2-1-基本使用" class="headerlink" title="2.1 基本使用"></a>2.1 基本使用</h3><p>首先，构建一个最基本的图像处理流程</p>
<p><img src="/images/blog/mevislab_basicpipeline.png" alt="基本流程"></p>
<p>其中<code>ImageLoad</code>,<code>Threshold</code>,<code>SoView2D</code>这三个模块可以在任务栏的<code>module</code>中搜索找到，或者直接搜索框里输入即可得到。我们可以在图中看到不同的module有不同的颜色，接口处的形状也不同，有尖三角，有半圆形，它们代表不同的意义。具体的请参考官方文档，本文重点不讨论这个。</p>
<p>常规的图像处理流程包括，载入图像，处理算法，展现模块。其中载入图像模块如上图<code>ImageLoad</code>，可以载入普通JPEG</p>
<h3 id="2-2-基本模块"><a href="#2-2-基本模块" class="headerlink" title="2.2 基本模块"></a>2.2 基本模块</h3><p><strong>模块类型</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>外形</th>
<th>特征</th>
</tr>
</thead>
<tbody><tr>
<td>ML模块(蓝色)</td>
<td><img src="/images/blog/ml_module.png" alt="ML module"></td>
<td>基于分页的，命令驱动的体素处理</td>
</tr>
<tr>
<td>开放的素材模块(可以用来组合和协助构建处理过程)(绿色)</td>
<td><img src="/images/blog/inventor_module.png" alt="inventor module"></td>
<td>视觉场景图(3D),名称转换，所有模块以So(scene object)开头</td>
</tr>
<tr>
<td>宏模块(棕色)</td>
<td><img src="/images/blog/macro_module.png" alt="macro"></td>
<td>组合其他模块类型，允许层次继承和脚本交互</td>
</tr>
</tbody></table>
<p><strong>连接器</strong></p>
<table>
<thead>
<tr>
<th>外观</th>
<th>形状</th>
<th>定义</th>
</tr>
</thead>
<tbody><tr>
<td><img src="/images/blog/triangle_look.png" alt="三角形"></td>
<td>三角形</td>
<td>ML 图像</td>
</tr>
<tr>
<td><img src="/images/blog/circle_look.png" alt="半圆形"></td>
<td>半圆形</td>
<td>场景素材</td>
</tr>
<tr>
<td><img src="/images/blog/square_look.png" alt="方形"></td>
<td>方形</td>
<td>基本对象：指向数据结构的指针</td>
</tr>
</tbody></table>
<p><strong>链接</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>外观</th>
<th>特征</th>
</tr>
</thead>
<tbody><tr>
<td>数据链接(连接器链接)</td>
<td><img src="/images/blog/data_connect.png" alt="数据链接"></td>
<td>连接器之间的直接链接。不同的连接器会有不同的颜色,蓝色的为ML，绿色的为开放素材，棕色的为基本类型</td>
</tr>
<tr>
<td>参数链接(域链接)</td>
<td><img src="/images/blog/parameter_connect.png" alt="参数链接"></td>
<td>模块之间或模块内部的参数的链接形成的链接</td>
</tr>
</tbody></table>
<h2 id="三-实现一个轮廓过滤"><a href="#三-实现一个轮廓过滤" class="headerlink" title="三 实现一个轮廓过滤"></a>三 实现一个轮廓过滤</h2><p>假设我们的轮廓过滤步骤为: 载入图像a–&gt;均值化[b]–&gt;形态学膨胀操作[c]–&gt;求差值[b,c]–&gt;查看图像</p>
<p>在Mevislab的工作台新建网络，并载入模块<code>LoadImage</code>,<code>Convolution</code>,<code>Morphology</code>,<code>Arithmetic2</code>。这些模块可以直接在搜索框搜索到。将这些模块按照如下图连接起来，连接操作鼠标左键点击模块的连接点，然后拖到下一个模块，松开即可。</p>
<p><img src="/images/blog/sample_filter_network.png" alt="网络流程"></p>
<p><strong>参数调整</strong></p>
<p>调整参数时，双击模块面板，有些隐含的参数需要右击面板–&gt;<code>show autopanel</code>。如果想让模块A中的参数param_a赋值给模块B中的参数param_b，在A面板中点击param_a拖住(可以看到此时面板中的param_a处出现了一个蓝色的箭头)，拉到面板B中的参数param_b处(也看到蓝色箭头激活)。如何保持参数同步(模块之间参数赋值)，示例如下:</p>
<p><img src="/images/blog/sync_params.png" alt="模块间参数同步"></p>
<p>其他参数设置参考下图:</p>
<p><img src="/images/blog/network_params_setting.png" alt="模块间参数同步"></p>
<h2 id="四-图像操作和处理"><a href="#四-图像操作和处理" class="headerlink" title="四 图像操作和处理"></a>四 图像操作和处理</h2><h3 id="4-1-图像操作"><a href="#4-1-图像操作" class="headerlink" title="4.1 图像操作"></a>4.1 图像操作</h3><ul>
<li><p><code>ImageLoad</code>:打开图像，格式可以为<code>DICOM</code>,<code>TIFF</code>,<code>DICOM/TIFF</code>,<code>RAW</code>,<code>LUMISYS</code>,<code>PNM</code>,<code>Analyze</code>,<code>PNG</code>,<code>JPEG</code></p>
</li>
<li><p><code>LocalImage</code>:与<code>ImageLoad</code>类似，载入的是相对于Mevislab安装位置或当前网络位置的图像</p>
</li>
<li><p><code>ImageSave</code>:存储图像，以<code>DICOM</code>,<code>TIFF</code>,<code>DICOM/TIFF</code>,<code>RAW</code>,<code>LUMISYS</code>,<code>PNM</code>,<code>Analyze</code>,<code>PNG</code>,<code>JPEG</code>这些格式</p>
</li>
</ul>
<h3 id="4-2-图像属性"><a href="#4-2-图像属性" class="headerlink" title="4.2 图像属性"></a>4.2 图像属性</h3><ul>
<li><p><code>Info</code>:展示当前连接的输入图像的信息，比如图像尺寸，page size，体素size，总容积，世界矩阵等。</p>
</li>
<li><p><code>MinMaxScan</code>:扫描输入并更新输出图像的最大最小值，可以改变数据类型。</p>
</li>
<li><p><code>ImagePropertyConvert</code>:允许自由改变图像的page size，最大、最小值、数据类型、世界矩阵</p>
</li>
<li><p><code>ImageStatistics</code>:计算输入图像体素的一些统计特性。</p>
</li>
</ul>
<h3 id="4-3-基本图像处理"><a href="#4-3-基本图像处理" class="headerlink" title="4.3 基本图像处理"></a>4.3 基本图像处理</h3><ul>
<li><p><code>SubImage</code>:从输入图像中基于体素、世界坐标的起止，尺寸抽取子图。也可以用于抽取比输入图像更大的区域</p>
</li>
<li><p><code>Resample3D</code>:在3D图像的任意平面抽样，有17个filter可以使用。</p>
</li>
<li><p><code>Reformat</code>:将图像重新格式化为一副引用图像，或者通过<code>SoView2D/SoOrthoView2D</code>创建重新格式化的叠加。</p>
</li>
<li><p><code>Scale</code>:将图像缩放到一个指定间隔，来源和目标缩放间隔可以自定义。</p>
</li>
<li><p><code>Arithmetic1</code>:对一副图像做算术运算。比如<code>Add</code>操作，则是对图像中体素的每个值加上一个常量。</p>
</li>
<li><p><code>Arithmetic2</code>:对两幅图像做算数运算。比如<code>Add</code>操作，则是将图像1中每个体素的值加到图像2上。</p>
</li>
<li><p><code>Mask</code>: 用图像2中的mask对图像1进行mask操作。(有Mask模块中有不同选项)</p>
</li>
<li><p><code>TestPattern</code> :基于指定的尺寸，page size，数据类型和模式生成一副测试图像</p>
</li>
<li><p><code>AddNoise</code>: 基于标量输入图像产生噪音数据，比如高斯噪音、盐粒噪音等。</p>
</li>
</ul>
<h3 id="4-4-过滤器"><a href="#4-4-过滤器" class="headerlink" title="4.4 过滤器"></a>4.4 过滤器</h3><ul>
<li><p><code>Convolution</code>：标准卷积，比如均值卷积，高斯卷积，拉普拉斯卷积和Sobel。</p>
</li>
<li><p><code>ExtendedConvolution</code>:提供与标准卷积类似的过滤器，但是更加灵活的Kernel size和kernel geometry</p>
</li>
<li><p><code>Rank</code>: 基于秩的卷积，比如最小、最大、中值、Rank、index</p>
</li>
<li><p><code>Morphology</code>: 形态学操作，比如腐蚀和膨胀</p>
</li>
<li><p><code>CalculateGradient</code>:计算输入图像每个体素周围的值得坡度(梯度)</p>
</li>
</ul>
<h3 id="4-5-分割"><a href="#4-5-分割" class="headerlink" title="4.5 分割"></a>4.5 分割</h3><ul>
<li><p><code>Threshold</code>: 将图像转换为二值图像，根据阈值</p>
</li>
<li><p><code>IntervalThreshold</code>: 通过过滤掉在指定值域范围的像素值来处理一副图像，在值域范围外的可以指定其他值或者为0。</p>
</li>
<li><p><code>RegionGrowing</code>:区域增长算法，提供简单的基于阈值或间隔的 1D&#x2F;2D&#x2F;3D&#x2F;4D的区域增长算法。需要设置阈值或间隔和最少一个种子节点。</p>
</li>
<li><p><code>RegionGrowingMacro</code>:是<code>RegionGrowing</code>的宏拓展，添加了自定义的marker 编辑。</p>
</li>
<li><p><code>ComputeConnectedComponents</code>:在2D&#x2F;3D灰度图上进行连通组件分析。</p>
</li>
</ul>
<h3 id="4-6-可视化"><a href="#4-6-可视化" class="headerlink" title="4.6 可视化"></a>4.6 可视化</h3><p><strong>2D可视化</strong></p>
<ul>
<li><p><code>View2D</code>: 以2D切片的形式查看3D图像。</p>
</li>
<li><p><code>View2DExtensions</code>: 封装了一系列的viewer，这些viewer都是常用于连接2D viewer的拓展，包括以切片形式查看、放大缩小、窗口调整。</p>
</li>
<li><p><code>SoView2D</code>: 在2D viewer中呈现一个容积(volume)图像的一个切片。</p>
</li>
<li><p><code>SoRenderArea</code>:提供一个开放的Inventor(素材)渲染器和Mevislab窗口内部的事件处理机制。</p>
</li>
<li><p><code>SoView2DOverlay</code>: 将一副2D图像与另外一副混合。</p>
</li>
<li><p><code>SoView2DPosition</code>: 显示2Dviewer 中最近点击的位置，显示形式可以自定义为圆形、空间矩形或叉叉。</p>
</li>
<li><p><code>SoView2DRectangle</code> : 在2D viewer中交互式的绘制或调整一个2D矩形。虽然此模块名称带2D，其实也可以操作3D。</p>
</li>
<li><p><code>SoMouseGrabber</code> :抓取Inventor sence中的鼠标事件并将其转化为float类型的x，y域。</p>
</li>
<li><p><code>SoKeyGrabber</code> :监听Inventor sence种的键盘事件，并触发依赖于不同键盘key按压操作的field。</p>
</li>
<li><p><code>OrthoView2D</code>: 提供一个2D view来展现三个正交视图方向的输入图像。</p>
</li>
<li><p><code>SoOrthoView2D</code>: 在2D viewer中渲染一副体素(volume)图像的正交切片</p>
</li>
<li><p><code>SynchroView2D</code>: 提供两个2D viewer，它们通过其世界坐标轴同步。</p>
</li>
</ul>
<p><strong>3D 视图</strong></p>
<ul>
<li><p><code>SoGVRVolumeRenderer</code>:一个基于八卦的渲染器，允许3D&#x2F;4D图像的高质量体素渲染。此模块继承自允许设置渲染参数的拓展模块集合。</p>
</li>
<li><p><code>SoExaminerViewer</code> : 提供开放的Inventor渲染和Mevislab窗口内部的时间操作。开放Inventor渲染比如背景色、透明度类型、绘画风格等。</p>
</li>
<li><p><code>View3D</code> :直接3D查看图像。</p>
</li>
<li><p><code>SoBackground</code>: 渲染开放Inventor sence中背景色的颜色坡度。</p>
</li>
</ul>
<h3 id="4-7-LookUp-Table"><a href="#4-7-LookUp-Table" class="headerlink" title="4.7 LookUp Table"></a>4.7 LookUp Table</h3><p>此模块用于编辑网络中其他模块的参数（此模块后续再补充，没怎么用）</p>
<ul>
<li><p><code>ApplyLUT</code> :在输入图像上应用lookup table(LUT)。输入图像中的体素值用作LUT索引值，LUT实体值被缩放到最大实体参数，并存储到输出图像。</p>
</li>
<li><p><code>SoLUTEditor</code>:允许编辑RGBA LUT 并输出MLLut对象。</p>
</li>
</ul>
<h3 id="4-8-Markers"><a href="#4-8-Markers" class="headerlink" title="4. 8 Markers"></a>4. 8 Markers</h3><ul>
<li><p><code>XMarkerListContainer</code>:存储了XMarker对象列表为XMarkerList对象。其内容可以呈现，编辑和保存。一个XMarker对象由一个6D Position，一个3D Vector，一个Type，一个Name属性组成。</p>
</li>
<li><p><code>SoView2DMarkerEditor</code>: 允许在2D 视图上交互式放置、编辑和展现markers。</p>
</li>
<li><p><code>So3DMarkerEditor</code>: 在3D中呈现markers并提供可能的交互式编辑markers。</p>
</li>
</ul>
<h3 id="4-9-Curves"><a href="#4-9-Curves" class="headerlink" title="4.9 Curves"></a>4.9 Curves</h3><ul>
<li><p><code>ProfileCurve</code>:从一副图像的任意数据维度抽取概要轮廓，通过沿着指定的线路读取输入图像的体素值。</p>
</li>
<li><p><code>SoDiagram2D</code>:呈现2D曲线，比如时间序列，灰度缩放概要，直方图等。</p>
</li>
</ul>
<h3 id="4-10-Contours"><a href="#4-10-Contours" class="headerlink" title="4.10 Contours"></a>4.10 Contours</h3><ul>
<li><p><code>CSOManager</code>:允许编辑CSOs和CSOGroup设置参数和默认参数，以及维持CSO和CSOGroup的整齐度。</p>
</li>
<li><p><code>SoCSO3DVis</code>:在3D中某个CSOList中的CSOs以Open Inventor sence开启可视化。需要对input可用的CSOList(比如通过CSOManager)</p>
</li>
<li><p><code>CSOIsoGenerator</code>:允许以固定的ISO值对整幅图生成iso轮廓。需要一个可用填充值的CSOList(比如CSOManager)</p>
</li>
<li><p><code>SoView2DCSOExtensibleEditor</code>:允许编辑和拖拽CSOs。与CSOManager，一个CSO子编辑器和输出用的2D Viewer结合使用，</p>
</li>
<li><p><code>SoCSOSplineEditor</code>:允许徒手或一个点一个点的生成CSOs。</p>
</li>
<li><p><code>SoCSOEllipseEditor</code>:允许生成椭圆或圆形CSO。</p>
</li>
</ul>
<h3 id="4-10-Surface-objects"><a href="#4-10-Surface-objects" class="headerlink" title="4.10 Surface objects"></a>4.10 Surface objects</h3><ul>
<li><p><code>SoWEMRenderer</code>:将一个WEM渲染为一个Open Inventor sence</p>
</li>
<li><p><code>WEMIsoSurface</code>:以固定阈值生成标量体积图像的ISO表面</p>
</li>
<li><p><code>WEMSmooth</code>: 使用一个表面平滑(拉普拉斯)来平滑WEM，或者表面的平滑。</p>
</li>
<li><p><code>SoView2DWEMEditor</code>: 在特定球形范围交互式WEM表面变形。</p>
</li>
</ul>
<h2 id="五-创建-Open-Inventor-Scene"><a href="#五-创建-Open-Inventor-Scene" class="headerlink" title="五 创建 Open Inventor Scene"></a>五 创建 Open Inventor Scene</h2><p>此模块主要利用Mevislab提供的各种自木块来构建各类视图模型，Open Inventor是一个面向对象的3D开发工具。Inventor scenes以场景图的形式组织。一个场景图由代表即将绘制的3D对象的节点，3D对象的属性，与其他节点结合的节点组成层次树，其他如摄像机、灯光等组成。</p>
<p>注意Open Inventor中的遍历路径如下，这对于如何构建场景图很关键。</p>
<p><img src="/images/blog/open_inventor_travel_path.jpg" alt="遍历路径"></p>
<p>Open Inventor模块的函数有:</p>
<ul>
<li><p><code>Draggers and manipulators</code></p>
</li>
<li><p><code>Group nodes</code></p>
</li>
<li><p><code>Light sources</code></p>
</li>
<li><p><code>Transformations</code></p>
</li>
<li><p><code>Cameras</code></p>
</li>
<li><p><code>3D viewers</code></p>
</li>
<li><p><code>Geometric objects (Spheres, Cones, 3D Text, Nurbs, Triangle Meshes, etc.)</code></p>
</li>
<li><p><code> Object properties (Textures, Colors, Materials, etc.)</code></p>
</li>
</ul>
<p>注意：在ML模块中模块的域值更新是同步的，但是在Open Inventor中是异步的，更改值之后会先存储在延迟队列中。</p>
<p>关于如何构建这些场景，示例图如下:</p>
<p> <img src="/images/blog/open_inventor_sample1.jpg" alt="遍历路径"></p>
<p> <img src="/images/blog/open_inventor_sample2.jpg" alt="遍历路径"></p>
<p>你可以将Mevislab当做一个3D建模工具玩。</p>
<h2 id="六-构建宏模块"><a href="#六-构建宏模块" class="headerlink" title="六  构建宏模块"></a>六  构建宏模块</h2><p>宏模块可以通过MDL(Mevislab Definition Lanague)和python或JavaScript脚本实现。宏的功能与其他模块类似，可以理解为一系列完成某种功能的模块的集合被封装成了一个模块。</p>
<p>构建一个宏模块，你需要走如下三步。</p>
<h3 id="6-1-构建宏"><a href="#6-1-构建宏" class="headerlink" title="6.1 构建宏"></a>6.1 构建宏</h3><p>首先，你得把一系列用于完成特定任务的模块串起来定义好，放入工作台。如下图:</p>
<p> <img src="/images/blog/mevislab_macro1.jpg" alt="宏定义模块"></p>
<p>定义好之后将网络存储在某个位置，比如命名为test_macro.mlab。</p>
<p>然后选择<code>File</code> → <code>Project Wizard</code> 并选择 <code>Macro</code>。然后设置宏的一些参数，其中打星号的是必须的。</p>
<p> <img src="/images/blog/mevislab_macro2.jpg" alt="宏定义模块"></p>
<p> 然后下一步，选择<code>Network File name</code>时选择刚保存test_macro.mlab。点击创建之后会自动创建如下文件</p>
<p><img src="/images/blog/mevislab_macro3.jpg" alt="宏定义模块"></p>
<p>此时，即可在搜索栏搜到刚刚定义的宏模块。</p>
<h3 id="6-2-给宏添加宏参数和面板"><a href="#6-2-给宏添加宏参数和面板" class="headerlink" title="6.2 给宏添加宏参数和面板"></a>6.2 给宏添加宏参数和面板</h3><p>右键点击刚刚创建的宏的面板选择related files,选择mevislab_macro.script编辑此脚本。此脚本包含了区域:</p>
<ul>
<li><p><em><strong>interface</strong></em>:定义宏的输入输出。</p>
</li>
<li><p><em><strong>Commands</strong></em>:定义在此宏的某些field活动时要执行的脚本文件</p>
</li>
<li><p><em><strong>window</strong></em>: 定义了宏的面板，在面板上设置参数。</p>
</li>
</ul>
<p>参考示例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Interface &#123;</span><br><span class="line">Inputs = &quot;&quot;</span><br><span class="line">Outputs &#123;</span><br><span class="line">Field Scene &#123; internalName = &quot;Applicator.self&quot; &#125;</span><br><span class="line">&#125;</span><br><span class="line">Parameters &#123;</span><br><span class="line">Field length &#123;</span><br><span class="line">type = float</span><br><span class="line">value = 20</span><br><span class="line">min = 1</span><br><span class="line">max = 50</span><br><span class="line">&#125;</span><br><span class="line">Field diameter &#123;</span><br><span class="line">type = float</span><br><span class="line">value = 3</span><br><span class="line">min = 0.1</span><br><span class="line">max = 10</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Commands &#123;</span><br><span class="line">source = $(LOCAL)/test_macro.py</span><br><span class="line">FieldListener length &#123; command = AdjustLength &#125;</span><br><span class="line">FieldListener diameter &#123; command = AdjustDiameter &#125;</span><br><span class="line">&#125;</span><br><span class="line">Window &#123;</span><br><span class="line">Category &#123;</span><br><span class="line">Field length &#123; step = 1 &#125;</span><br><span class="line">Field diameter &#123; step = 0.1 &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">下图为定义之后的面板效果</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> ![宏定义模块](/images/blog/mevislab_macro4.jpg)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="6-3-python脚本"><a href="#6-3-python脚本" class="headerlink" title="6.3 python脚本"></a>6.3 python脚本</h3><p>上一步的scipt脚本中，Command所使用的test_macro.py需要编写。示例如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># -----------------------------------------------------------------------------</span><br><span class="line">## This file implements scripting functions for the ApplicatorMacro module</span><br><span class="line">#</span><br><span class="line"># \file ApplicatorMacro.py</span><br><span class="line"># \author JDoe</span><br><span class="line"># \date 01/2009</span><br><span class="line">#</span><br><span class="line"># -----------------------------------------------------------------------------</span><br><span class="line"># MeVis module import</span><br><span class="line">from mevis import *</span><br><span class="line">def AdjustLength():</span><br><span class="line">overallLength = ctx.field(&quot;length&quot;).value</span><br><span class="line">tipLength = ctx.field(&quot;SoCone.height&quot;).value</span><br><span class="line">shaftLength = overallLength - tipLength</span><br><span class="line">ctx.field(&quot;SoCylinder.height&quot;).value = shaftLength</span><br><span class="line">def AdjustDiameter():</span><br><span class="line">        diameter = ctx.field (&quot;diameter&quot;).value</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注意观察，python脚本中如何调用和控制参数。其中的<code>ctx</code>是默认的上下文，它可以访问当前网络中任何其他模块的任何field。比如此处的<code>SoCone.height</code>，其中的<code>SoCone</code>是一个模块，height是该模块的一个field，如果它有其他实例名example_name，则使用example_name.height也可以直接访问。 此处通过<code>ctx.field(&quot;SoCone.height&quot;).value</code>访问值，而<code>ctx.field(&quot;SoCylinder.height&quot;).value = shaftLength</code>来改变值。</p>
<h2 id="七-渲染"><a href="#七-渲染" class="headerlink" title="七 渲染"></a>七 渲染</h2><p>其实Mevislab用起来只是快速实现模型，但是无法用于生产环境，处理速度太慢。平常用它来做渲染还是不错的，做3D渲染几乎不逊色于一般的3D建模软件。</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/09/15/2016-03-16-bigdata-hadooplzo/" rel="prev" title="hadoop lzo问题">
      <i class="fa fa-chevron-left"></i> hadoop lzo问题
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/09/15/2017-02-26-mutliview-falseremove-usingcnn/" rel="next" title="CT图像中肺结节自动检测:使用CNN移除假阳性【论文笔记】">
      CT图像中肺结节自动检测:使用CNN移除假阳性【论文笔记】 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80-%E7%89%B9%E7%82%B9"><span class="nav-number">2.</span> <span class="nav-text">一 特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C-%E4%BD%BF%E7%94%A8"><span class="nav-number">3.</span> <span class="nav-text">二 使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 基本使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97"><span class="nav-number">3.2.</span> <span class="nav-text">2.2 基本模块</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E8%BD%AE%E5%BB%93%E8%BF%87%E6%BB%A4"><span class="nav-number">4.</span> <span class="nav-text">三 实现一个轮廓过滤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B-%E5%9B%BE%E5%83%8F%E6%93%8D%E4%BD%9C%E5%92%8C%E5%A4%84%E7%90%86"><span class="nav-number">5.</span> <span class="nav-text">四 图像操作和处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%9B%BE%E5%83%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">5.1.</span> <span class="nav-text">4.1 图像操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%9B%BE%E5%83%8F%E5%B1%9E%E6%80%A7"><span class="nav-number">5.2.</span> <span class="nav-text">4.2 图像属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><span class="nav-number">5.3.</span> <span class="nav-text">4.3 基本图像处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">5.4.</span> <span class="nav-text">4.4 过滤器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-%E5%88%86%E5%89%B2"><span class="nav-number">5.5.</span> <span class="nav-text">4.5 分割</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">5.6.</span> <span class="nav-text">4.6 可视化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-LookUp-Table"><span class="nav-number">5.7.</span> <span class="nav-text">4.7 LookUp Table</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-Markers"><span class="nav-number">5.8.</span> <span class="nav-text">4. 8 Markers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-9-Curves"><span class="nav-number">5.9.</span> <span class="nav-text">4.9 Curves</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-10-Contours"><span class="nav-number">5.10.</span> <span class="nav-text">4.10 Contours</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-10-Surface-objects"><span class="nav-number">5.11.</span> <span class="nav-text">4.10 Surface objects</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94-%E5%88%9B%E5%BB%BA-Open-Inventor-Scene"><span class="nav-number">6.</span> <span class="nav-text">五 创建 Open Inventor Scene</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD-%E6%9E%84%E5%BB%BA%E5%AE%8F%E6%A8%A1%E5%9D%97"><span class="nav-number">7.</span> <span class="nav-text">六  构建宏模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E6%9E%84%E5%BB%BA%E5%AE%8F"><span class="nav-number">7.1.</span> <span class="nav-text">6.1 构建宏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-%E7%BB%99%E5%AE%8F%E6%B7%BB%E5%8A%A0%E5%AE%8F%E5%8F%82%E6%95%B0%E5%92%8C%E9%9D%A2%E6%9D%BF"><span class="nav-number">7.2.</span> <span class="nav-text">6.2 给宏添加宏参数和面板</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-python%E8%84%9A%E6%9C%AC"><span class="nav-number">7.3.</span> <span class="nav-text">6.3 python脚本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83-%E6%B8%B2%E6%9F%93"><span class="nav-number">8.</span> <span class="nav-text">七 渲染</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="shartoo"
      src="/images/me.jpg">
  <p class="site-author-name" itemprop="name">shartoo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">102</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shartoo</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v6.3.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.6.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>













  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: 'c656cd038e01f710e260',
      clientSecret: 'e6de2ccaaf0f7069292125b8f50e27f25b95810d',
      repo: 'shartoo.github.io',
      owner: 'shartoo',
      admin: ['shartoo'],
      id: '037782694229b3037f5941c0be7f8540',
        language: '',
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

  <!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
</body>
</html>
